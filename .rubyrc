#
# http://tbaggery.com/2007/02/11/auto-loading-ruby-code.html

if [ -d "$HOME/.ruby/lib/" ]; then
  RUBYLIB="$RUBYLIB:$HOME/.ruby/lib"
  #RUBYOPT="-rgmarik"
  export RUBYLIB RUBYOPT
fi

#TODO: doenst work
# http://jasonseifer.com/2010/05/05/osx-post-install-guide-4
_mategem()
{
    local curw
    COMPREPLY=()
    curw=${COMP_WORDS[COMP_CWORD]}
    local gems="$(gem environment gemdir)/gems"
    COMPREPLY=($(compgen -W '$(ls $gems)' -- $curw));
    return 0
}
complete -F _mategem -o dirnames mategem

[ -s ~/.rvm/scripts/rvm ] && source ~/.rvm/scripts/rvm

# vim: ft=sh:ts=2
